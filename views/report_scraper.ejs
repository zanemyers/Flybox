<main class="container py-3">
    <div class="row d-flex align-items-stretch">
        <!-- Instructions -->
        <div class="col-lg-5 mb-4 mb-lg-0 d-flex">
            <div class="p-4 bg-light border rounded flex-fill d-flex flex-column">
                <h2 class="h4 mb-2">🛠️ What This Tool Does</h2>
                <p class="mb-4">
                    This tool collects and summarizes fly fishing reports. It uses a starter file to find websites, scrapes them for report content, and summarizes the results using <strong>Google's Gemini API</strong>.
                </p>

                <h3 class="h5 mb-2">📋 How to Use It</h3>
                <div class="steps">
                    <div>
                        <span class="icon">🔐</span>
                        Enter your <strong>Gemini API key</strong> (get one at
                        <a href="https://makersuite.google.com/app/apikey" target="_blank" rel="noopener noreferrer">makersuite.google.com</a>).
                    </div>
                    <div>
                        <span class="icon">💁‍♀️️</span>
                        Choose a <strong>Model</strong> (view available models at
                        <a href="https://ai.google.dev/models/gemini" target="_blank" rel="noopener noreferrer">ai.google.dev</a>).
                    </div>
                    <div>
                        <span class="icon">⏱️</span>
                        Set the <strong>Max Report Age</strong> in days.
                    </div>
                    <div>
                        <span class="icon">🌊</span>
                        Enable <strong>Filter by Rivers</strong> to filter reports by river names.
                    </div>
                    <div>
                        <span class="icon">📁</span>
                        Import a <strong>Starter File</strong>. Download an example file
                        <a href="/static/example_files/report_starter_file_ex.xlsx" download>here</a>.
                    </div>
                    <div><span class="icon">⚙️</span> Advanced Settings</div>
                    <div class="steps mb-0" style="font-size: .85rem;">
                        <div>
                            <span class="icon">🕹️</span>
                            Set an input <strong>Token Limit</strong> to control the model's maximum token usage.
                        </div>
                        <div>
                            <span class="icon">🪏</span>
                            Set the <strong>Crawl Depth</strong> to specify how many link levels the scraper should follow.
                        </div>
                    </div>
                    <div>
                        <span class="icon">✅</span>
                        Click <strong>Run Search</strong> to begin scraping and summarizing.
                    </div>
                </div>

                <h3 class="h5 mb-2">ℹ️ About the Defaults</h3>
                <p class="mb-2">
                    By default, this tool uses the <strong>gemini-2.5-flash</strong> model with a <strong>50,000 token limit</strong>. It scrapes up to <strong>25 link levels deep</strong>, includes reports up to <strong>100 days old</strong>, and does not <strong>filter by river</strong>.
                </p>
                <p class="text-muted small mb-0">
                    🔒 <strong>Privacy Notice:</strong> All processing happens locally in memory. Nothing is stored or sent to a server.
                </p>
            </div>
        </div>

        <!-- Form -->
        <div id="formContainer" class="col-lg-7 d-flex">
            <%- include('partials/report_form.ejs') %>
        </div>
    </div>
</main>